function viewTabs(){jQuery("html, body").animate({scrollTop:jQuery("#rTabs").position().top},"fast")}function popup(n,t,i){result=window.open(n,"popped1","width="+t+", height="+i+", location=no, menubar=no, status=no, toolbar=no, scrollbars=yes, resizable=no"),result!=null?html="is not blocking":alert("Your Browser is blocking popups which is preventing a 3dCart window to appear.")}function popupsimple(n,t,i){var r=480,u=340,f,e;(document.all||document.layers)&&(r=screen.availWidth,u=screen.availHeight),f=(r-t)/2,e=(u-i)/2,result=window.open(n,"popped1","width="+t+", height="+i+",top="+e+",left="+f+",location=no, menubar=no, status=no, toolbar=no, scrollbars=no, resizable=no"),result!=null?html="is not blocking":alert("Your Browser is blocking popups which is preventing a 3dCart window to appear.")}function SearchAndReplace(n,t,i){var r=n,e=new String,s=new String,u=new String,f=0,o=0;if(t.length!=0){while(r.toUpperCase().indexOf(t.toUpperCase())>-1)f=r.toUpperCase().indexOf(t.toUpperCase()),e=r.substring(0,f),u=u+e,u=u+i,o=r.length-t.length+1,r=r.substring(f+t.length);return u+r}}function Len(n){return String(n).length}function Left(n,t){return t<=0?"":t>String(n).length?n:String(n).substring(0,t)}function Right(n,t){if(t<=0)return"";if(t>String(n).length)return n;var i=String(n).length;return String(n).substring(i,i-t)}function Mid(n,t,i){if(t<0||i<0)return"";var r,u=String(n).length;return r=t+i>u?u:t+i,String(n).substring(t,r)}function InStr(n,t){for(i=0;i<Len(n);i++)if(t==Mid(n,i,1))return i;return-1}function validateValues(n,t,i){var h=!0,u=new String,c=new String,l=!1,p=!1,f=0,a=!1,v=!1,w=new Image,e,o,r,y,s,k;if(stocknum="",n.std_price!=null){if(f=n.std_price.value,f==0&&i!=null&&i!=undefined)return;for(e=n.itemid!=null?n.itemid.value:"",listing_elemLenght=n.elements.length,r=0,y=listing_elemLenght;r<y;r++)if(myType=n.elements[r].type,s=n.elements[r].getAttribute("class"),s!=null&&!(s.indexOf("customoption")<0)){try{o=n.elements[r].getAttribute("customoption")}catch(b){o=null}myType!=null&&myType!=undefined&&o==null&&(u=n.elements[r].name,u!=""&&u!="recipientselect"&&u!="reminder"&&u!="qty-0"&&u!="recurring_frequency"&&u!="item_id"&&(u.indexOf("di_")>-1&&SetSrc(n,"img_"+u,GetValue(n,"image_"+n.elements[r].options[n.elements[r].selectedIndex].value,i),i),myType=="radio"&&(a=!0,n.elements[r].checked&&(v=!0,f=eval(f)+eval(GetValue(n,"price_"+n.elements[r].value,i)),e=e+GetValue(n,"OptID_"+n.elements[r].value,i),stocknum=stocknum+n.elements[r].value+"#")),myType=="checkbox"&&(l=!0,n.elements[r].checked&&(u>""&&(f=eval(f)+eval(GetValue(n,"price_"+u,i))),e=e+GetValue(n,"OptID_"+u,i))),(myType=="hidden"||myType=="password"||myType=="text"||myType=="textarea")&&n.elements[r].value==n.elements[r].defaultValue&&(h=!1),(myType=="select-one"||myType=="select-multiple")&&n.elements[r].name.indexOf("otf_")<0&&n.elements[r].options[n.elements[r].selectedIndex].value>""&&(c=n.elements[r].options[n.elements[r].selectedIndex].value,stocknum=stocknum+c+"#",f=eval(f)+eval(GetValue(n,"price_"+n.elements[r].options[n.elements[r].selectedIndex].value)),e=e+""+GetValue(n,"OptID_"+n.elements[r].options[n.elements[r].selectedIndex].value))))}if((l&&!p||a&&!v)&&(h=!1),changeprice(f,i),changeid(e),t==1)return check_stock(n,stocknum)}}function changeid(n){var t=n;changecontent("product_id",t)}function GetValue(n,t,i){var r,u;if(r=i!=undefined&&i!=null?jQuery("#add"+i+" input[name='"+t+"']"):document.getElementsByName(t),r!=null&&r!=undefined&&r.length>0)return i!=undefined&&i!=null?r[0].value:r.item(0).value;for(u=0;u<listing_elemLenght;u++)if(n.elements[u].name==t)return n.elements[u].value}function SetSrc(n,t,r,u){var f,e;if(f=u!=undefined&&u!=null?jQuery("#add"+u+" input[name='"+t+"']"):document.getElementsByName(t),f!=null&&f!=undefined&&f.length>0){f.length>0&&(f.item(0).src=r);return}for(e=u!=undefined&&u!=null?jQuery("#add"+u+" img"):document.getElementsByTagName("img"),listing_imgslength==-1&&(listing_imgslength=e.length),i=0;i<listing_imgslength;i++)e[i].name==t&&(e[i].src=r)}function recalculate(){}function changecontent(n,t){var i=t;document.getElementById?document.getElementById(n)!=null&&(document.getElementById(n).innerHTML=i,document.getElementById(n).style.visibility="visible"):document.all?document.all[fiendname]!=null&&(document.all[fiendname].innerHTML=i,document.all[n].style.visibility="visible"):document.layers&&document.layers[n]!=null&&(document.layers[n].document.open(),document.layers[n].document.write(i),document.layers[n].document.close(),document.layers[n].visibility="show")}function changeprice(n,t){var i=formatCurrency(n),r,u,o;try{currency_symbol!=null&&currency_symbol!=undefined&&(r=currency_symbol)}catch(h){r="$"}if(u=0,document.getElementById("std_price_novat")!=null){var f=parseFloat(document.getElementById("std_price_novat").value),e=parseFloat(document.getElementById("vat_tax_rate").value),s=document.getElementById("vat_tax_price_format").value,o=n;e>=0&&(o=f+f*(e/100),i=s,i=i.replace("[price_vat]",formatCurrency(n)),currency_symbol="",u=n-o,u=u/(1+e/100),f=f+u,currency_symbol=r,i=i.replace("[price_novat]",formatCurrency(f)),i=i.replace("[currency]"+r,r),i=i.replace("[currency]",r))}t!=undefined&&t!=null?changecontent("price"+t,i):changecontent("price",i)}function formatCurrency(n){var i,t;try{i=currency_symbol}catch(r){i="$"}try{t=parseInt(prod_decimal_places)}catch(r){t=2}return n=parseFloat(n),n=n.toString(),t>2&&(t-(n.length-(n.indexOf(".")+1))>0&&(t=n.length-(n.indexOf(".")+1)),t<2&&(t=2)),t>0?formatNumberListing(n,t,",",".",i,"","",""):formatNumberListing(n,t,"","",i,"","","")}function formatNumberListing(n,t,i,r,u,f,e,o){var l=Math.round(n*Math.pow(10,t)),h,s,c,a;for(l>=0&&(e=o=""),h=(""+Math.abs(l)).split(""),s=h.length-t,s<0&&s--,c=s;c<0;c++)h.unshift("0");for(s<0&&(s=1),h.splice(s,0,r),h[0]==r&&h.unshift("0");s>3;)s-=3,h.splice(s,0,i);return a=u+e+h.join("")+o+f}function check_stock(n,t){var o,r,c=jQuery("#availability").val(),l=jQuery("#allowbackorder").val(),s=jQuery("#allowadvancedoption_waitlist").val(),a=jQuery("#productAvailability-Instock").val(),v=jQuery("#productAvailability-Outofstock").val(),y=jQuery("#productAvailability-Backorder").val(),f=jQuery("#catalogid").val(),i=0,u=window["inventoryarray"+f],h=window["idarray"+f],p=window["aopricearray"+f],e=new MessageBar;if(e.initialize(),typeof u=="undefined"||u.length==0)return!0;for(r=0;r<u.length;r++)if(o=u[r],field_array=o.split("-"),typeof h!="undefined"&&(soptionid=h[r],aoprice=p[r],field_array[0]==t&&(soptionid!=""&&(changeid(soptionid),jQuery("#itemid_advancedoption").val(soptionid)),aoprice!="0"&&changeprice(aoprice))),field_array[0]==t){if(changecontent("product_inventory",field_array[1]),eval(GetValue(n,"qty-0"))>field_array[1]||eval(GetValue(n,"qty-0"))==undefined&&s=="1")return i=i+1,l==1?(changecontent("availability",y),!0):(changecontent("availability",v),s=="1")?(jQuery("#divAddToCart").slideUp(),e.alert("The options you selected are not currently available."),jQuery("#divWaitlist_AdvancedOptions").slideDown(),!0):(e.alert("The options you selected are not currently available."),i=i+2,!1);jQuery("#divWaitlist_AdvancedOptions").slideUp(),jQuery("#divAddToCart").slideDown()}return i==0?(changecontent("availability",c),!0):i==1?(changecontent("availability",a),!0):void 0}function add_wishlist(){var n=jQuery("#Enabled_Multiple_WishList").val(),t=jQuery("#link_addtolist").val(),i;n=="1"?(jQuery("#wishlist-modal").modal("show"),i=t):(document.add.action="add_cart.asp?action=addWishList",document.add.submit())}function add_wishlistcustom(n,t,i){document.add.wishListCustomType.value=n,document.add.wishListCustomId.value=t,document.add.wishListCustomname.value=i,document.add.action="add_cart.asp?action=addWishList",document.add.submit()}function add_giftregistry(){document.add.action="add_cart.asp?action=addGiftRegistry",document.add.submit()}function showRecFriend(n){var t="recommendafriend.asp?url="+n;jQuery("#recommendafriend-modal").modal("show")}function showMakeOffer(){var i="makeanoffer.asp?action=newOffer&catalogid=[catalogid]",n,t;n=580,t=795,document.body.clientWidth<767&&(n=460,t=300),jQuery.modal('<iframe src="'+i+'" height="'+n+'" width="'+t+'" style="border:0">',{closeClass:"modalCloseImg",closeHTML:'<a href="#">Close<\/a>',containerCss:{backgroundColor:"#fff",borderColor:"#fff",height:n,padding:0,width:t+5},overlayClose:!0,onShow:function(n){n.wrap.css("overflow","hidden")}})}function showAddName(){jQuery(".multipleShipToBlock .send-to select").val()=="selectother"?jQuery(".multipleShipToBlock .add-name, .multipleShipToBlock .note").show():jQuery(".multipleShipToBlock .add-name, .multipleShipToBlock .note").hide()}function check_and_add(n){var t=validateReqOption(n),i;if(t!=null){reqOptionBar.alert("Please select all required options."),varx1='[name="'+t.name+'"]',jQuery(varx1).closest(".opt-regular").addClass("option-required");return}document.add.std_price==null?document.add.submit():(i=validateValues(n,1),i==!0&&document.add.submit())}function selectOption(n){var i="",r="",u=jQuery("#has_rules").val(),t;(n=null,u=="1")&&(add_overlay("divOptionsBlock",1),t="prod_options.asp?ajax=1&action=buildOptions&strElementType="+escape(r)+"&strElementName="+escape(i)+"&no-cache="+Math.random(),jQuery.ajax({url:t,dataType:"html",type:"POST",data:jQuery(add).serialize(),cache:!1,success:function(n){var i=jQuery("#divOptionsBlock").find("input:text"),t;if(jQuery("#divOptionsBlock").html(n),i.length>0)for(t=0;t<i.length;t++)jQuery("[name='"+i[t].name+"']").val(i[t].value);jQuery('#add input[type="radio"]:checked').each(function(){jQuery(this).next("div").addClass("radio-selected")})},complete:afterOptionSelection,error:reportError}))}function afterOptionSelection(){remove_overlay("divOptionsBlock");return}function getElementById_s(n){var t=null;return document.getElementById?t=get_Element(n):document.all&&(t=document.all[n]),t}function remove_overlay(n){var t=getElementById_s("overlay_"+n);t!=null&&t!="null"&&t!=undefined&&t!="undefined"&&(t.style.display="none")}function add_overlay(n,t){var r=getElementById_s(n),i=document.createElement("div");r&&(i.setAttribute("id","overlay_"+n),i.className="overlay",i.style.position="absolute",i.style.textAlign="center",i.style.width=r.clientWidth+"px",i.style.height=r.clientHeight+"px",r.insertBefore(i,r.firstChild),i.style.display="block",get_Element("overlay_"+n).innerHTML=t==1?'<table border=0 width=100% height=100%><tr><td style="text-align: center;"><img src="assets/templates/common-html5/images/loading.gif"><\/td><\/tr><\/table>':'<table border=0 width=100% height=100%><tr><td align="center"><\/td><\/tr><\/table>')}function get_Element(n){return document.getElementById(n)||document.getElementsByName(n).item(0)}function reportError(n,t){remove_overlay("divOptionsBlock"),n.status>0&&alert("Error processing request "+n.status+" - "+t)}function countChars(n,t,i){var r=document.getElementById(n).value,f=r.split("\n").length-1,u;if(document.getElementById(n).maxLength=Number(i)+Number(f*1),u=i-document.getElementById(n).value.length,u<0)return document.getElementById(n).value=r.substring(0,r.length-1),!1;document.getElementById(t).innerHTML=u}var reqOptionBar=new MessageBar,stocknum,listing_elemLenght,listing_imgslength,currency_symbol,prod_decimal_places;reqOptionBar.initialize(),jQuery(function(){jQuery(".qty-input .qty-up").click(function(){var n=jQuery(this).data("target"),t=parseInt(jQuery(n).val())+1;jQuery(n).val(t)}),jQuery(".qty-input .qty-down").click(function(){var t=jQuery(this).data("target"),n=parseInt(jQuery(t).val())-1;n<=1&&(n=1),jQuery(t).val(n)}),jQuery('[data-toggle="popover"]').popover(),jQuery(window).load(function(){jQuery(".flexslider").flexslider({animation:"slide",animationLoop:!0,slideshow:!1,controlNav:!1,itemWidth:50,minItems:4,maxItems:4,itemMargin:0,prevText:"",nextText:""}),setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)}),jQuery("#rTabs").responsiveTabs({active:0,rotate:!1,startCollapsed:"accordion",collapsible:"accordion",setHash:!1}),document.body.clientWidth<767&&(jQuery("span.pipe").hide(),jQuery("#rTabs").responsiveTabs("activate",0)),document.body.clientWidth<767&&(jQuery("span.pipe").hide(),jQuery("#rTabs").responsiveTabs("activate",0)),jQuery("#main-image").length<=0&&jQuery("#realmediaBlock").show(),jQuery(".prod-thumb").click(function(){var t=jQuery(this).find("a"),i;jQuery(t).attr("id")=="showRealMedia"?(jQuery("#main-image").hide(),jQuery("#realmediaBlock").show()):(jQuery("#realmediaBlock").hide(),jQuery("#main-image").show(),i=jQuery(t).attr("title"),jQuery("#imagecaptiont").text(i))}),jQuery("#review_count").click(function(n){n.preventDefault(),jQuery("#reviewsTab a").click(),jQuery("html, body").animate({scrollTop:$("#tab-4").offset().top},1e3)})}),function(){function n(){return window.innerWidth<=567?1:window.innerWidth<992?2:4}var t=jQuery(window),i={vars:{}};t.load(function(){jQuery(".product-carousel").flexslider({animation:"slide",controlNav:!1,keyboard:!1,itemWidth:210,itemMargin:0,minItems:n(),maxItems:n()}),setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)}),t.resize(function(){var t=n();i.vars.minItems=t,i.vars.maxItems=t})}(),stocknum="",listing_elemLenght=-1,listing_imgslength=-1,jQuery("#wishlist-add").click(function(){var n=jQuery(".wishlist-optListType:checked").val(),i=jQuery("#wishlist-drpLists").val(),r=jQuery.trim(jQuery("#wishlist-txtNewList").val()),t;if(n=="1"&&i=="")t=jQuery("#wishlist-error").data("select"),jQuery("#wishlist-error-msg").text(t),jQuery("#wishlist-error").collapse("show");else if(n=="2"&&r=="")t=jQuery("#wishlist-error").data("enter"),jQuery("#wishlist-error-msg").text(t),jQuery("#wishlist-error").collapse("show");else try{add_wishlistcustom(n,i,r)}catch(u){add_wishlistcustom(n,i,r)}}),jQuery("#recommendafriend_button").click(function(){jQuery(".recommendafriend-error").hide();var t=jQuery.trim(jQuery("#visitorname").val()),i=jQuery.trim(jQuery("#visitormail").val()),r=jQuery.trim(jQuery("#friendname").val()),u=jQuery.trim(jQuery("#friendmail").val()),f=jQuery.trim(jQuery("#recommendafriend-message").val()),e=jQuery("#product_url").val(),n=!0;if(t==""&&(jQuery(".recommendafriend_visitorname").show(),n=!1),i==""&&(jQuery(".recommendafriend_visitoremail").show(),n=!1),r==""&&(jQuery(".recommendafriend_friendname").show(),n=!1),u==""&&(jQuery(".recommendafriend_friendemail").show(),n=!1),f==""&&(jQuery(".recommendafriend_note").show(),n=!1),n)jQuery("#recommendafriend-error").collapse("hide"),jQuery("#recommendafriend-modal .loading-overlay").show(),jQuery.ajax({method:"POST",url:"/recommendafriend.asp?action=ajaxSend",data:{catalogid:jQuery("#catalogid").val(),visitorname:t,visitormail:i,friendname:r,friendmail:u,message:f,siteurl:e},success:function(n){var t=JSON.parse(n);t.resCode!=undefined&&t.resCode==1&&(jQuery("#recommendafriend-modal .loading-overlay").hide(),jQuery("#recommendafriend-modal .modal-response").fadeIn(500))},error:function(){alert("Something went wrong. Please try again later.")},complete:function(){jQuery("#recommendafriend-modal .loading-overlay").fadeOut(500)}});else{jQuery("#recommendafriend-error").collapse("show");return}}),jQuery(".createreview-link").click(function(n){n.preventDefault(),jQuery("#createreview-modal").modal("show")}),jQuery("#createreview_button").click(function(){jQuery(".createreview-error").hide();var t=jQuery("#createreview-modal .rating-input:checked").val(),i=jQuery.trim(jQuery("#createreview-custName").val()),r=jQuery.trim(jQuery("#createreview-custEmail").val()),u=jQuery.trim(jQuery("#createreview-userCity").val()),f=jQuery.trim(jQuery("#createreview-shorReview").val()),e=jQuery.trim(jQuery("#createreview-longReview").val()),n=!0;if((t==""||t==undefined)&&(jQuery(".createreview-rating").show(),n=!1),i==""&&(jQuery(".createreview-name").show(),n=!1),r==""&&(jQuery(".createreview-email").show(),n=!1),u==""&&(jQuery(".createreview-location").show(),n=!1),f==""&&(jQuery(".createreview-title").show(),n=!1),e==""&&(jQuery(".createreview-review").show(),n=!1),n)jQuery("#createreview-error").collapse("hide"),jQuery("#createreview-modal .loading-overlay").show(),jQuery.ajax({method:"POST",url:"/review.asp?action=ajax&catalogid="+jQuery("#catalogid").val(),data:{ajaxAction:"create",user_name:i,user_email:r,user_city:u,short_review:f,long_review:e,rating:t},success:function(n){var t=JSON.parse(n);t.resCode!=undefined&&(jQuery("#createreview-modal .loading-overlay").hide(),t.resCode==1?jQuery("#createreview-modal .modal-response").fadeIn(500):(jQuery("#createreview-notallowed").text(t.resMsg).show(),jQuery("#createreview-error").collapse("show")))},error:function(){alert("Something went wrong. Please try again later.")},complete:function(){jQuery("#createreview-modal .loading-overlay").fadeOut(500)}});else{jQuery("#createreview-error").collapse("show");return}}),jQuery("#waitinglist-btn").click(function(n){n.preventDefault(),jQuery("#waitinglist-modal").modal("show")}),jQuery("#waitinglist_button").click(function(){jQuery(".waitinglist-error").hide();var t=jQuery.trim(jQuery("#waitinglist-name").val()),i=jQuery.trim(jQuery("#waitinglist-email").val()),r=jQuery.trim(jQuery("#waitinglist-phone").val()),n=!0;if(t==""&&(jQuery(".waitinglist-name").show(),n=!1),i==""&&(jQuery(".waitinglist-email").show(),n=!1),r==""&&(jQuery(".waitinglist-phone").show(),n=!1),n)jQuery("#waitinglist-error").collapse("hide"),jQuery("#waitinglist-modal .loading-overlay").show(),jQuery.ajax({method:"POST",url:"/notify.asp?action=ajaxSend",data:{catalogid:jQuery("#catalogid").val(),itemid_advanced:jQuery("#itemid_advancedoption").val(),name:t,email:i,phone:r},success:function(n){var t=JSON.parse(n);t.resCode!=undefined&&t.resCode==1&&(jQuery("#waitinglist-response").text(t.resMsg),jQuery("#waitinglist-modal .modal-response").fadeIn(500))},error:function(){alert("Something went wrong. Please try again later.")},complete:function(){jQuery("#waitinglist-modal .loading-overlay").fadeOut(500)}});else{jQuery("#waitinglist-error").collapse("show");return}}),jQuery("#makeanoffer-btn").click(function(){jQuery("#makeanoffer-modal").modal("show")}),jQuery("#makeanoffer-submit").click(function(){jQuery(".makeanoffer-error").hide();var t=jQuery.trim(jQuery("#makeanoffer-amount").val()),i=jQuery.trim(jQuery("#makeanoffer-name").val()),r=jQuery.trim(jQuery("#makeanoffer-email").val()),u=jQuery.trim(jQuery("#makeanoffer-comment").val()),n=!0;if(t==""&&(jQuery(".makeanoffer-amount").show(),n=!1),i==""&&(jQuery(".makeanoffer-name").show(),n=!1),r==""&&(jQuery(".makeanoffer-email").show(),n=!1),n)jQuery("#makeanoffer-error").collapse("hide"),jQuery("#makeanoffer-modal .loading-overlay").show(),jQuery.ajax({method:"POST",url:"/makeanoffer.asp?action=ajaxsend&catalogid="+jQuery("#catalogid").val(),data:{catalogid:jQuery("#catalogid").val(),amount:t,name:i,email:r,comment:u},success:function(n){var t=JSON.parse(n);t.resCode!=undefined&&(t.resCode==1?(jQuery("#makeanoffer-response").text(t.resMsg),jQuery("#makeanoffer-modal .modal-response").fadeIn(500)):(jQuery(".makeanoffer-responsError").text(t.resMsg),jQuery(".makeanoffer-responsError").show(),jQuery("#makeanoffer-error").collapse("show")))},error:function(){alert("Something went wrong. Please try again later.")},complete:function(){jQuery("#makeanoffer-modal .loading-overlay").fadeOut(500)}});else{jQuery("#makeanoffer-error").collapse("show");return}}),currency_symbol=jQuery("#currency").val(),prod_decimal_places=jQuery("#prod_decimal_places").val(),validateValues(document.add,1),selectOption(null)