function submitForm(n){window.document.body.style.cursor="wait",window.document.activeElement&&(window.document.activeElement.style.cursor="wait"),document.frmForm.action.value=n,document.frmForm.submit()}function removeItem(n){var t;if(t=confirm(getVariableVal("giftregistry_view-message-removeitem")),!t)return!1;document.frmForm.wsiId.value=n,submitForm("removeItem")}function saveItem(n){var t=document.getElementById("txtQty"+n).value;document.frmForm.wsiId.value=n,submitForm("saveItem")}function addToCart(n){jQuery.ajax({url:"view_giftregistry.asp",dataType:"html",data:"action=isCartAlreadyHaveItemFromOtherGiftRegistry&id="+getVariableVal("custid")+"&wsiId="+n,type:"POST",async:!1,cache:!1,success:function(t){if(t==="True")return alert(getVariableVal("giftregistry_view-can-not-add-from-two-gr")),!1;var i;if(i=confirm(getVariableVal("wishlist_viewwishlist-message-addtocart")),!i)return!1;document.frmForm.wsiId.value=n,submitForm("addToCart")},error:function(){alert("Error: "+getVariableVal("giftregistry_view-can-not-add-from-two-gr"))}})}function submitForm2(n){window.document.body.style.cursor="wait",window.document.activeElement&&(window.document.activeElement.style.cursor="wait"),document.frmForm.action2.value=n,document.frmForm.submit()}function sendEmail(){var n="",i=document.frmForm.txtEmail1.value.trim(),r=document.frmForm.txtEmail2.value.trim(),u=document.frmForm.txtEmail3.value.trim(),f=document.frmForm.txtEmail4.value.trim(),t=document.frmForm.txtEmail5.value.trim(),e=document.frmForm.txtEmail6.value.trim();if(i==""&&r==""&&u==""&&f==""&&t==""&&e==""&&(n+=" - You need to fill at least one "+getVariableVal("giftregistry_header-invitation-emailaddress")+".\n"),i==""||isValidEmail(i)||(n+=" - The 1st "+getVariableVal("giftregistry_header-invitation-emailaddress")+" is invalid.\n"),r==""||isValidEmail(r)||(n+=" - The 2nd "+getVariableVal("giftregistry_header-invitation-emailaddress")+" is invalid.\n"),u==""||isValidEmail(u)||(n+=" - The 3rd "+getVariableVal("giftregistry_header-invitation-emailaddress")+" is invalid.\n"),f==""||isValidEmail(f)||(n+=" - The 4th "+getVariableVal("giftregistry_header-invitation-emailaddress")+" is invalid.\n"),t==""||isValidEmail(t)||(n+=" - The 5th "+getVariableVal("giftregistry_header-invitation-emailaddress")+" is invalid.\n"),e==""||isValidEmail(t)||(n+=" - The 6th "+getVariableVal("giftregistry_header-invitation-emailaddress")+" is invalid.\n"),n!="")return alert(n),!1;addReplyClick==0&&(addReplyClick=1,submitForm2("sendEmail"))}function isValidEmail(n){return n.indexOf(".")>2&&n.indexOf("@")>0}function previewMessage(){jQuery("#myModal").modal("show").find(".modal-body").load("")}jQuery(function(){jQuery(".quant-input .qty-up").click(function(){var n=jQuery(this).data("target"),t=parseInt(jQuery(n).val())+1;jQuery(n).val(t)}),jQuery(".quant-input .qty-down").click(function(){var t=jQuery(this).data("target"),n=parseInt(jQuery(t).val())-1;n<=0&&(n=0),jQuery(t).val(n)}),jQuery("a.view-options").click(function(n){n.preventDefault();var t=jQuery(this).data("target");jQuery(t).slideToggle()})});var addReplyClick=0;String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}