function saveQuestion(){var t=jQuery.trim(jQuery("#productqa_name").val()),i=jQuery.trim(jQuery("#productqa_email").val()),r=jQuery.trim(jQuery("#productqa_question").val()),n=!0;t==""&&(jQuery(".productqa_name").show(),n=!1),i==""&&(jQuery(".productqa_email").show(),n=!1),r==""&&(jQuery(".productqa_question").show(),n=!1),n?(jQuery("#productqa-error").collapse("hide"),jQuery.ajax({method:"POST",url:"/productqa.asp?action=ajax&catalogid="+jQuery("#catalogid").val(),data:{ajaxAction:"saveqa",user_email:t,user_name:i,question:r},success:function(n){console.log(n),n=="ok"&&(jQuery("#productqa_question").val(""),jQuery("#productQa-modal .modal-response").fadeIn(500))},error:function(){alert("Something went wrong. Please try again later.")},complete:function(){jQuery("#productQa-modal .loading-overlay").fadeOut(500)}})):(jQuery("#productqa-error").collapse("show"),jQuery("#productQa-modal .loading-overlay").hide())}function saveAnswer(){var t=jQuery.trim(jQuery("#productqa_name").val()),i=jQuery.trim(jQuery("#productqa_email").val()),r=jQuery.trim(jQuery("#productqa_answer").val()),u=jQuery.trim(jQuery("#answerBlock_q_id").val()),n=!0;t==""&&(jQuery(".productqa_name").show(),n=!1),i==""&&(jQuery(".productqa_email").show(),n=!1),r==""&&(jQuery(".productqa_answer").show(),n=!1),n?(jQuery("#productqa-error").collapse("hide"),jQuery.ajax({method:"POST",url:"/productqa.asp?action=ajax&catalogid="+jQuery("#catalogid").val(),data:{ajaxAction:"saveans",user_email:t,user_name:i,qa_id:u,answer:r},success:function(n){console.log(n),n=="ok"&&(jQuery("#productqa_question").val(""),jQuery("#productQa-modal .modal-response").fadeIn(500))},error:function(){alert("Something went wrong. Please try again later.")},complete:function(){jQuery("#productQa-modal .loading-overlay").hide()}})):(jQuery("#productqa-error").collapse("show"),jQuery("#productQa-modal .loading-overlay").hide())}function updateRevStats(n,t,i){var u="",r="";r="id="+n,r+="&vote="+i,u="reviewVote_ajax.asp?"+r+"&no-cache="+Math.random(),jQuery.ajax({url:u,dataType:"html",type:"GET",cache:!1,success:function(n){n==""?qaUpdateBar.alert(jQuery("#productqa_helpful-notupdated").val()):(jQuery("#spnReview"+t).html(n),qaUpdateBar.success(jQuery("#productqa_update-helpful").val()))},error:reportQAError})}function updateQAStats(n,t,i){var u="",r="";r="id="+n,r+="&vote="+i,u="productqaVote_ajax.asp?"+r+"&no-cache="+Math.random(),jQuery.ajax({url:u,dataType:"html",type:"GET",cache:!1,success:function(n){n==""?qaUpdateBar.alert(jQuery("#productqa_helpful-notupdated").val()):(jQuery("#spn"+t).html(n),qaUpdateBar.success(jQuery("#productqa_update-helpful").val()))},error:reportQAError})}function reportQAError(n){n.status>0&&qaUpdateBar.alert("Error processing request, please try again.")}jQuery("#qaLink, #qaLink2").click(function(n){n.preventDefault(),jQuery("#productqa-error").collapse("hide"),jQuery("#productQa-modal .modal-response").hide(),jQuery("#questionBlock").show(),jQuery("#productQa-modal").addClass("question-modal").removeClass("answer-modal"),jQuery("#productQa_action").val("saveqa"),jQuery("#productQa-modal").modal("show")}),jQuery(".qa-answer-btn").click(function(n){n.preventDefault(),jQuery("#productqa-error").collapse("hide"),jQuery("#productQa-modal .modal-response").hide(),jQuery("#productQa-modal").addClass("answer-modal").removeClass("question-modal");var t=jQuery(this).data("question"),i=jQuery("#question"+t).text();jQuery("#answerBlock_q_id").val(t),jQuery("#answer-question").text(i),jQuery("#productQa_action").val("saveans"),jQuery("#productQa-modal").modal("show")}),jQuery("#productQa_button").click(function(){jQuery(".productqa-error").hide(),jQuery("#productQa-modal .loading-overlay").show(),action=jQuery("#productQa_action").val(),action=="saveqa"?saveQuestion():action=="saveans"&&saveAnswer()}),jQuery(".modal-resclose").click(function(){jQuery(this).parents(".modal-response").hide()});var qaUpdateBar=new MessageBar;qaUpdateBar.initialize()